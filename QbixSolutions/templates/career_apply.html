{% extends 'base.html' %}
{% load static %}

{% block title %}Apply for {{ job.title }} - Qbix Solutions{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">Apply for Position</h1>
        <p class="page-description">{{ job.title }}</p>
    </div>
</section>

<!-- Job Details & Application -->
<section class="job-apply section">
    <div class="container">
        <div class="job-apply-grid">
            <!-- Job Details -->
            <div class="job-details-box">
                <h2>{{ job.title }}</h2>
                <div class="job-info">
                    <p><strong>Department:</strong> {{ job.department }}</p>
                    <p><strong>Type:</strong> {{ job.get_employment_type_display }}</p>
                    <p><strong>Location:</strong> {{ job.location }}</p>
                    <p><strong>Posted:</strong> {{ job.posted_date|date:"M d, Y" }}</p>
                </div>
                
                <h3>Description</h3>
                <p>{{ job.description }}</p>
                
                <h3>Requirements</h3>
                <div class="job-requirements">{{ job.requirements|linebreaks }}</div>
                
                <h3>Responsibilities</h3>
                <div class="job-responsibilities">{{ job.responsibilities|linebreaks }}</div>
            </div>
            
            <!-- Application Form -->
            <div class="application-form-box">
                <h3>Submit Your Application</h3>
                <form method="post" enctype="multipart/form-data" class="application-form">
                    {% csrf_token %}
                    {% if form.errors %}
                    <div class="form-errors">
                        {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                        <p class="error">{{ error }}</p>
                        {% endfor %}
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    <div class="form-group">
                        <label for="{{ form.name.id_for_label }}">Full Name *</label>
                        {{ form.name }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">Email *</label>
                        {{ form.email }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.phone.id_for_label }}">Phone *</label>
                        {{ form.phone }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.resume.id_for_label }}">Resume (PDF, DOC, DOCX - Max 5MB) *</label>
                        {{ form.resume }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.portfolio_url.id_for_label }}">Portfolio URL (Optional)</label>
                        {{ form.portfolio_url }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.cover_letter.id_for_label }}">Cover Letter *</label>
                        {{ form.cover_letter }}
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">Submit Application</button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}
