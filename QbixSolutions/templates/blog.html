{% extends 'base.html' %}
{% load static %}

{% block title %}Blog - Web Development Tips & Insights | Qbix Solutions{% endblock %}

{% block meta_description %}Expert insights on web development, Django, Python, SaaS, e-commerce, mobile apps. Latest trends, best practices, tutorials & tips from Qbix Solutions's experienced developers.{% endblock %}

{% block meta_keywords %}web development blog, Django tutorials, Python tips, SaaS development insights, web development best practices, coding tutorials India{% endblock %}

{% block extra_css %}
<!-- Blog Styles -->
<link rel="stylesheet" href="{% static 'css/blog.css' %}">
{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1 class="page-title">Our Blog</h1>
        <p class="page-description">Insights, tips, and industry news</p>
    </div>
</section>

<!-- Blog Filter -->
<section class="blog-filter-section">
    <div class="container">
        <div class="blog-filters">
            <a href="{% url 'QbixSolutions:blog' %}" class="filter-btn {% if not selected_category %}active{% endif %}">All Posts</a>
            {% for category in categories %}
            <a href="?category={{ category }}" class="filter-btn {% if selected_category == category %}active{% endif %}">{{ category }}</a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Blog Grid -->
<section class="blog-grid-section section">
    <div class="container">
        <div class="blog-grid-full">
            {% for post in blog_posts %}
            <article class="blog-card-full">
                <div class="blog-image">
                    {% if post.image %}
                    <img src="{{ post.image.url }}" alt="{{ post.title }}" loading="lazy">
                    {% else %}
                    <div class="blog-placeholder">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    {% endif %}
                </div>
                <div class="blog-content">
                    <div class="blog-meta">
                        <span class="blog-category">{{ post.category }}</span>
                        <span class="blog-date">{{ post.published_date|date:"M d, Y" }}</span>
                        <span class="blog-author">By {{ post.author }}</span>
                    </div>
                    <h2 class="blog-title">
                        <a href="{% url 'QbixSolutions:blog_detail' post.slug %}">{{ post.title }}</a>
                    </h2>
                    <p class="blog-excerpt">{{ post.excerpt }}</p>
                    <a href="{% url 'QbixSolutions:blog_detail' post.slug %}" class="blog-link">
                        Read More <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </article>
            {% empty %}
            <p class="text-center" style="grid-column: 1/-1;">No blog posts yet. Stay tuned!</p>
            {% endfor %}
        </div>
        
        <!-- Pagination -->
        {% if blog_posts.has_other_pages %}
        <div class="pagination">
            {% if blog_posts.has_previous %}
            <a href="?page={{ blog_posts.previous_page_number }}{% if selected_category %}&category={{ selected_category }}{% endif %}" class="page-link">&laquo; Previous</a>
            {% endif %}
            
            {% for num in blog_posts.paginator.page_range %}
            <a href="?page={{ num }}{% if selected_category %}&category={{ selected_category }}{% endif %}" class="page-link {% if blog_posts.number == num %}active{% endif %}">{{ num }}</a>
            {% endfor %}
            
            {% if blog_posts.has_next %}
            <a href="?page={{ blog_posts.next_page_number }}{% if selected_category %}&category={{ selected_category }}{% endif %}" class="page-link">Next &raquo;</a>
            {% endif %}
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
